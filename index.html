<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comprobar Pago | WSSERVERMX</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#07091a;
  --card:#0f1326;
  --card2:#131929;
  --border:#1e2740;
  --border2:#252e50;
  --text:#e8eaed;
  --muted:#8b93a7;
  --primary:#7c3aed;
  --primary-light:#a78bfa;
  --accent:#06b6d4;
  --success:#10b981;
  --danger:#f87171;
  --font:'Outfit',sans-serif;
  --mono:'JetBrains Mono',monospace;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:var(--font);
  min-height:100vh;
  background:var(--bg);
  color:var(--text);
  position:relative;
  overflow-x:hidden;
  background-image:
    radial-gradient(ellipse 80% 60% at 50% -10%, rgba(124,58,237,0.18) 0%, transparent 70%),
    radial-gradient(ellipse 50% 40% at 90% 80%, rgba(6,182,212,0.08) 0%, transparent 60%);
}

/* â”€â”€ Grid de puntos de fondo â”€â”€ */
body::before{
  content:'';
  position:fixed;inset:0;
  background-image:radial-gradient(circle, rgba(124,58,237,0.12) 1px, transparent 1px);
  background-size:32px 32px;
  pointer-events:none;
  z-index:0;
}

/* â”€â”€ Sparkles â”€â”€ */
.sparkle{
  position:fixed;
  width:2px;height:2px;
  background:var(--primary-light);
  border-radius:50%;
  pointer-events:none;
  opacity:0;
  animation:sparkle 4s infinite;
  box-shadow:0 0 4px var(--primary-light);
  z-index:1;
}
@keyframes sparkle{
  0%,100%{opacity:0;transform:scale(0)}
  50%{opacity:.8;transform:scale(1.5)}
}

/* â”€â”€ Tortuga flotante en pantalla â”€â”€ */
.turtle-float{
  position:fixed;
  font-size:38px;
  top:20%;left:-70px;
  filter:drop-shadow(0 0 10px rgba(124,58,237,.6));
  animation:swim 9s ease-in-out infinite;
  z-index:100;
  cursor:pointer;
  pointer-events:auto;
  transition:transform .3s;
}
.turtle-float:hover{transform:scale(1.15)}
@keyframes swim{
  0%{left:-70px;top:22%}
  30%{top:16%}
  60%{left:55%;top:32%}
  100%{left:110%;top:22%}
}
.turtle-float.bye{animation:turtleBye 2.8s ease-out forwards!important}
@keyframes turtleBye{
  0%{transform:rotate(0) scale(1);opacity:1}
  30%{transform:rotate(180deg) scale(1.5);opacity:1}
  60%{transform:rotate(360deg) scale(1);opacity:1}
  100%{transform:rotate(360deg) translateY(-900px);opacity:0}
}

/* â”€â”€ Layout principal â”€â”€ */
.wrapper{
  position:relative;z-index:2;
  min-height:100vh;
  display:flex;flex-direction:column;
  align-items:center;
  padding:28px 16px 48px;
}

/* â”€â”€ Logo â”€â”€ */
.logo{
  font-size:26px;font-weight:900;
  letter-spacing:-1px;
  background:linear-gradient(120deg,var(--primary),var(--accent),var(--primary-light));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
  filter:drop-shadow(0 2px 10px rgba(124,58,237,.5));
  margin-bottom:28px;
  display:flex;align-items:center;gap:10px;
}
.logo-turtle{
  font-size:28px;-webkit-text-fill-color:initial;
  display:inline-block;
  animation:float 2.6s ease-in-out infinite;
  filter:drop-shadow(0 3px 8px rgba(6,182,212,.6));
}
@keyframes float{
  0%,100%{transform:translateY(0) rotate(-5deg)}
  50%{transform:translateY(-10px) rotate(5deg)}
}

/* â”€â”€ Card â”€â”€ */
.card{
  width:100%;max-width:580px;
  background:linear-gradient(160deg,#0f1326 0%,#0c1020 100%);
  border:1px solid var(--border);
  border-radius:28px;
  padding:36px 32px 32px;
  box-shadow:
    0 30px 80px rgba(0,0,0,.7),
    0 0 0 1px rgba(124,58,237,.15),
    inset 0 1px 0 rgba(255,255,255,.04);
  position:relative;overflow:hidden;
}
.card::after{
  content:'';
  position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,rgba(124,58,237,.6),rgba(6,182,212,.4),transparent);
}

/* â”€â”€ Banner seguridad â”€â”€ */
.sec-banner{
  display:flex;align-items:flex-start;gap:12px;
  padding:14px 16px;
  background:rgba(16,185,129,.07);
  border:1px solid rgba(16,185,129,.3);
  border-radius:14px;
  margin-bottom:28px;
  font-size:13px;color:var(--text);line-height:1.55;
}
.sec-banner .icon{font-size:20px;flex-shrink:0;margin-top:1px}
.sec-banner b{color:#6ee7b7}

/* â”€â”€ Progress bar de pasos â”€â”€ */
.progress-wrap{
  margin-bottom:32px;
}
.progress-steps{
  display:flex;align-items:center;justify-content:center;
  gap:0;
  position:relative;
}
.step-dot-wrap{
  display:flex;flex-direction:column;
  align-items:center;
  gap:6px;
  position:relative;
  z-index:1;
}
.step-dot{
  width:40px;height:40px;
  border-radius:50%;
  border:2px solid var(--border2);
  background:var(--card);
  display:flex;align-items:center;justify-content:center;
  font-size:15px;font-weight:700;
  color:var(--muted);
  transition:all .4s ease;
  position:relative;
  cursor:default;
}
.step-dot.active{
  border-color:var(--primary);
  background:rgba(124,58,237,.2);
  color:#fff;
  box-shadow:0 0 0 4px rgba(124,58,237,.15),0 0 20px rgba(124,58,237,.3);
  animation:dotPop .3s ease;
}
@keyframes dotPop{
  0%{transform:scale(.8)}50%{transform:scale(1.15)}100%{transform:scale(1)}
}
.step-dot.done{
  border-color:var(--success);
  background:rgba(16,185,129,.2);
  color:var(--success);
}
.step-dot.done::after{
  content:'âœ“';
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  font-size:16px;font-weight:800;
}
.step-dot.done .dot-num{display:none}
.step-label{
  font-size:10.5px;font-weight:600;
  color:var(--muted);
  text-align:center;
  letter-spacing:.3px;
  transition:color .3s;
  white-space:nowrap;
  max-width:72px;
}
.step-dot-wrap.active .step-label{color:var(--primary-light)}
.step-dot-wrap.done .step-label{color:var(--success)}

.step-line{
  flex:1;height:2px;
  background:var(--border2);
  position:relative;
  overflow:hidden;
  margin-bottom:22px;
  min-width:20px;max-width:60px;
}
.step-line-fill{
  position:absolute;inset:0;
  background:linear-gradient(90deg,var(--primary),var(--accent));
  transform:scaleX(0);transform-origin:left;
  transition:transform .5s ease;
}
.step-line.filled .step-line-fill{transform:scaleX(1)}

/* â”€â”€ Paneles de pasos â”€â”€ */
.steps-outer{
  position:relative;
  overflow:hidden;
  min-height:280px;
}
.step-panel{
  display:none;
  animation:panelIn .35s ease both;
}
.step-panel.active{display:block}
.step-panel.exit{animation:panelOut .25s ease both}
@keyframes panelIn{
  from{opacity:0;transform:translateX(30px)}
  to{opacity:1;transform:translateX(0)}
}
@keyframes panelInBack{
  from{opacity:0;transform:translateX(-30px)}
  to{opacity:1;transform:translateX(0)}
}
@keyframes panelOut{
  to{opacity:0;transform:translateX(-20px)}
}

.step-panel.going-back{animation:panelInBack .35s ease both}

/* â”€â”€ TÃ­tulos de paso â”€â”€ */
.panel-title{
  font-size:20px;font-weight:800;
  margin-bottom:6px;
  background:linear-gradient(90deg,var(--text),var(--primary-light));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
}
.panel-sub{
  font-size:13px;color:var(--muted);
  margin-bottom:22px;line-height:1.5;
}

/* â”€â”€ Opciones de mÃ©todo (tarjetas) â”€â”€ */
.method-grid{
  display:grid;grid-template-columns:1fr;
  gap:12px;
}
.method-card{
  display:flex;align-items:center;gap:16px;
  padding:16px 18px;
  border-radius:16px;
  border:2px solid var(--border2);
  background:rgba(255,255,255,.02);
  cursor:pointer;
  transition:all .25s ease;
  position:relative;
  overflow:hidden;
}
.method-card::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(120deg,transparent,rgba(124,58,237,.07),transparent);
  opacity:0;transition:opacity .3s;
}
.method-card:hover{
  border-color:var(--primary);
  background:rgba(124,58,237,.06);
  transform:translateX(4px);
}
.method-card:hover::before{opacity:1}
.method-card.selected{
  border-color:var(--primary);
  background:rgba(124,58,237,.12);
  box-shadow:0 0 0 1px rgba(124,58,237,.3),0 4px 20px rgba(124,58,237,.15);
}
.method-icon{
  font-size:28px;flex-shrink:0;
  filter:drop-shadow(0 2px 6px rgba(6,182,212,.4));
}
.method-info{flex:1}
.method-name{font-size:15px;font-weight:700;color:var(--text);margin-bottom:3px}
.method-desc{font-size:12px;color:var(--muted);line-height:1.4}
.method-check{
  width:22px;height:22px;
  border-radius:50%;
  border:2px solid var(--border2);
  display:flex;align-items:center;justify-content:center;
  flex-shrink:0;
  font-size:12px;
  transition:all .25s;
}
.method-card.selected .method-check{
  background:var(--primary);border-color:var(--primary);
  color:#fff;box-shadow:0 0 8px rgba(124,58,237,.5);
}

/* â”€â”€ Bloque de datos bancarios â”€â”€ */
.bank-block{
  margin-top:20px;
  padding:18px;
  border-radius:14px;
  background:rgba(124,58,237,.06);
  border:1px solid rgba(124,58,237,.25);
  font-size:14px;line-height:2;
  display:none;
}
.bank-block.show{display:block}
.bank-row{display:flex;align-items:center;gap:4px;flex-wrap:wrap}
.bank-label{color:var(--muted);font-size:12px;font-weight:600;letter-spacing:.3px;margin-right:2px}
.bank-val{
  font-family:var(--mono);font-size:13px;
  color:var(--accent);font-weight:600;
}
.copy{
  cursor:pointer;font-size:13px;margin-left:6px;
  opacity:.6;transition:all .2s;display:inline-block;
}
.copy:hover{opacity:1;transform:scale(1.3)}
.copiado{font-size:11px;color:var(--success);margin-left:4px;font-weight:700}
.bank-note{
  margin-top:12px;
  padding:10px 14px;
  border-radius:10px;
  background:rgba(6,182,212,.08);
  border:1px solid rgba(6,182,212,.2);
  font-size:12px;color:var(--text);line-height:1.5;
}

/* â”€â”€ Inputs â”€â”€ */
.field{margin-bottom:20px}
.field-label{
  display:block;
  font-size:12.5px;font-weight:700;
  color:var(--muted);
  letter-spacing:.5px;
  text-transform:uppercase;
  margin-bottom:8px;
}
.input-wrap{position:relative}
input[type=text],
input[type=email],
input[type=number]{
  width:100%;
  padding:14px 46px 14px 16px;
  border-radius:12px;
  border:1.5px solid var(--border2);
  background:rgba(10,14,39,.8);
  color:var(--text);
  font-family:var(--font);
  font-size:15px;
  transition:all .3s;
}
input:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(124,58,237,.12);
  background:rgba(124,58,237,.04);
}
input::placeholder{color:var(--border2)}
.i-turtle{
  position:absolute;right:12px;top:50%;
  transform:translateY(-50%) scale(0);
  font-size:19px;opacity:0;
  transition:all .3s;
  pointer-events:auto;
  cursor:pointer;
  filter:drop-shadow(0 0 6px rgba(124,58,237,.6));
}
input:focus ~ .i-turtle{
  transform:translateY(-50%) scale(1);
  opacity:1;
  animation:wiggle 1.2s ease-in-out infinite;
}
@keyframes wiggle{
  0%,100%{transform:translateY(-50%) scale(1) rotate(-6deg)}
  50%{transform:translateY(-50%) scale(1) rotate(6deg)}
}
.mxn-hint{
  margin-top:8px;font-size:13px;
  color:var(--accent);font-weight:500;
}

/* â”€â”€ Upload de comprobante â”€â”€ */
.upload-zone{
  border:2px dashed var(--border2);
  border-radius:16px;
  padding:32px 20px;
  text-align:center;
  cursor:pointer;
  transition:all .3s;
  position:relative;
  background:rgba(255,255,255,.01);
}
.upload-zone:hover, .upload-zone.drag{
  border-color:var(--primary);
  background:rgba(124,58,237,.06);
}
.upload-zone input[type=file]{
  position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%;
}
.upload-icon{font-size:40px;margin-bottom:10px;display:block}
.upload-title{font-size:15px;font-weight:700;margin-bottom:4px}
.upload-sub{font-size:12px;color:var(--muted)}
.upload-preview{
  display:none;
  margin-top:16px;
  border-radius:12px;overflow:hidden;
  border:1px solid var(--border2);
  max-height:180px;
}
.upload-preview img{width:100%;height:180px;object-fit:contain;background:#000}
.upload-name{
  margin-top:10px;font-size:12px;
  color:var(--success);font-weight:600;
  display:none;
}

/* â”€â”€ Resumen â”€â”€ */
.summary{
  border-radius:16px;
  border:1px solid var(--border2);
  overflow:hidden;
}
.summary-row{
  display:flex;align-items:flex-start;gap:14px;
  padding:14px 18px;
  border-bottom:1px solid rgba(255,255,255,.04);
  font-size:14px;
}
.summary-row:last-child{border-bottom:none}
.sum-icon{font-size:20px;flex-shrink:0;margin-top:1px}
.sum-key{font-size:11px;font-weight:700;color:var(--muted);letter-spacing:.4px;text-transform:uppercase;margin-bottom:3px}
.sum-val{font-weight:600;color:var(--text);font-family:var(--mono);font-size:13px}
.sum-img{
  width:100%;border-radius:10px;
  max-height:140px;object-fit:contain;
  background:rgba(0,0,0,.3);
  margin-top:8px;
}

/* â”€â”€ NavegaciÃ³n â”€â”€ */
.nav-btns{
  display:flex;gap:12px;
  margin-top:28px;
}
.btn-back{
  flex:1;padding:15px;
  border:1.5px solid var(--border2);
  border-radius:12px;
  background:transparent;
  color:var(--muted);
  font-family:var(--font);
  font-size:15px;font-weight:600;
  cursor:pointer;
  transition:all .3s;
  display:flex;align-items:center;justify-content:center;gap:8px;
}
.btn-back:hover{border-color:var(--primary);color:var(--primary-light)}

.btn-next{
  flex:2;padding:15px;
  border:none;
  border-radius:12px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:#fff;
  font-family:var(--font);
  font-size:16px;font-weight:800;
  cursor:pointer;
  transition:all .3s;
  box-shadow:0 4px 20px rgba(124,58,237,.4);
  display:flex;align-items:center;justify-content:center;gap:10px;
  position:relative;overflow:hidden;
}
.btn-next::before{
  content:'';
  position:absolute;inset:0;
  background:rgba(255,255,255,0);
  transition:background .3s;
}
.btn-next:hover::before{background:rgba(255,255,255,.08)}
.btn-next:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(124,58,237,.55)}
.btn-next:active{transform:translateY(0)}
.btn-next:disabled{
  background:linear-gradient(135deg,#1e1e2e,#1a2535);
  cursor:not-allowed;transform:none;
  box-shadow:none;color:var(--muted);
}

/* â”€â”€ Estado enviando / bloqueado â”€â”€ */
.btn-next.sending{
  background:linear-gradient(135deg,#4a2090,#0a8499);
  cursor:not-allowed;transform:none!important;
}
.btn-next.locked{
  background:linear-gradient(135deg,#1e1e2e,#1a2535);
  cursor:not-allowed;transform:none!important;
  border:1px solid rgba(248,113,113,.4);
  color:#f87171;
  animation:lockPulse 2s ease-in-out infinite;
}
@keyframes lockPulse{
  0%,100%{box-shadow:0 0 0 2px rgba(248,113,113,.4)}
  50%{box-shadow:0 0 0 4px rgba(248,113,113,.2),0 0 25px rgba(248,113,113,.2)}
}
.btn-next.done{
  background:linear-gradient(135deg,#065f46,#0d9488);
  cursor:not-allowed;transform:none!important;
  box-shadow:0 4px 20px rgba(16,185,129,.35);
}

.spinner{
  width:19px;height:19px;
  border:3px solid rgba(255,255,255,.25);
  border-top-color:#fff;
  border-radius:50%;
  animation:spin .7s linear infinite;
  flex-shrink:0;
}
@keyframes spin{to{transform:rotate(360deg)}}

.cooldown-bar{height:3px;border-radius:0 0 12px 12px;background:rgba(248,113,113,.1);display:none;overflow:hidden}
.cooldown-bar.vis{display:block}
.cooldown-fill{height:100%;background:linear-gradient(90deg,#f87171,#ef4444);transition:width 1s linear;box-shadow:0 0 6px rgba(248,113,113,.5)}
.cooldown-msg{
  display:none;text-align:center;margin-top:10px;
  padding:11px 14px;border-radius:11px;
  background:rgba(248,113,113,.07);border:1px solid rgba(248,113,113,.25);
  color:#fca5a5;font-size:12.5px;font-weight:600;line-height:1.5;
}
.cooldown-msg.vis{display:block}

/* â”€â”€ Error â”€â”€ */
.error-box{
  display:none;
  padding:12px 16px;border-radius:11px;
  background:rgba(248,113,113,.08);
  border:1px solid rgba(248,113,113,.3);
  color:#f87171;font-size:13px;font-weight:600;
  margin-bottom:16px;
  text-align:center;
}
.error-box.show{display:block}

/* â”€â”€ Ã‰xito final â”€â”€ */
.success-screen{
  display:none;text-align:center;padding:16px 0;
}
.success-screen.show{display:block}
.success-icon{font-size:64px;margin-bottom:16px;animation:popIn .5s ease both}
@keyframes popIn{
  from{transform:scale(0)}
  80%{transform:scale(1.2)}
  to{transform:scale(1)}
}
.success-title{font-size:22px;font-weight:900;color:var(--success);margin-bottom:8px}
.success-sub{font-size:14px;color:var(--muted);line-height:1.6;margin-bottom:20px}
.success-warn{
  padding:14px 16px;border-radius:12px;
  background:rgba(124,58,237,.08);border:1px solid var(--primary);
  font-size:13px;color:var(--text);line-height:1.7;text-align:left;
  margin-bottom:16px;
}
.countdown-txt{font-size:13px;color:var(--muted)}
.countdown-txt b{color:var(--accent)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE â€” MÃ“VIL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@media (max-width: 480px){

  /* Card sin bordes redondeados tan grandes, menos padding */
  .card{
    border-radius:20px;
    padding:24px 18px 24px;
  }

  /* Logo mÃ¡s pequeÃ±o */
  .logo{
    font-size:21px;
    margin-bottom:20px;
    letter-spacing:-.5px;
  }
  .logo-turtle{font-size:23px}

  /* Banner seguridad: texto mÃ¡s compacto */
  .sec-banner{
    padding:12px 13px;
    font-size:12px;
    gap:10px;
    margin-bottom:20px;
  }
  .sec-banner .icon{font-size:17px}

  /* â”€â”€ Barra de progreso: dots mÃ¡s pequeÃ±os, labels abajo â”€â”€ */
  .progress-wrap{margin-bottom:24px}
  .step-dot{width:32px;height:32px;font-size:13px}
  .step-dot.done::after{font-size:13px}
  .step-label{
    font-size:9px;
    max-width:56px;
    /* Ocultar label en pasos no activos para no amontonar */
    color:transparent;
    transition:color .3s;
  }
  .step-dot-wrap.active .step-label{color:var(--primary-light)}
  .step-dot-wrap.done .step-label{color:var(--success)}
  .step-line{min-width:12px;max-width:40px}

  /* TÃ­tulos de panel */
  .panel-title{font-size:18px}
  .panel-sub{font-size:12px;margin-bottom:18px}

  /* Tarjetas de mÃ©todo */
  .method-card{padding:13px 14px;gap:12px}
  .method-icon{font-size:24px}
  .method-name{font-size:14px}
  .method-desc{font-size:11px}
  .method-check{width:20px;height:20px;font-size:11px}

  /* Datos bancarios: fuente mono mÃ¡s pequeÃ±a para que la CLABE no se corte */
  .bank-block{padding:14px;font-size:13px;line-height:1.9}
  .bank-val{
    font-size:12px;
    word-break:break-all;   /* CLABE larga: rompe si no cabe */
  }
  .bank-label{font-size:11px}
  .bank-note{font-size:11px}

  /* Inputs: tamaÃ±o de fuente 16px para evitar zoom en iOS */
  input[type=text],
  input[type=email],
  input[type=number]{
    font-size:16px;
    padding:13px 44px 13px 14px;
  }
  .field-label{font-size:11.5px}
  .mxn-hint{font-size:12px}

  /* Upload zone mÃ¡s compacta */
  .upload-zone{padding:24px 14px}
  .upload-icon{font-size:32px}
  .upload-title{font-size:14px}
  .upload-sub{font-size:11px}

  /* Resumen: evitar que correos/CLABE largos rompan layout */
  .sum-val{
    font-size:12px;
    word-break:break-all;
  }
  .sum-key{font-size:10px}
  .summary-row{padding:12px 14px;gap:10px}

  /* Botones de navegaciÃ³n: full width en columna si es solo uno */
  .nav-btns{margin-top:22px;gap:10px}
  .btn-back{
    font-size:13px;
    padding:13px 10px;
    flex:1;
  }
  .btn-next{
    font-size:14px;
    padding:14px 10px;
    flex:2;
  }

  /* Pantalla de Ã©xito */
  .success-icon{font-size:52px}
  .success-title{font-size:19px}
  .success-sub{font-size:13px}
  .success-warn{font-size:12px;padding:12px 13px}
  .countdown-txt{font-size:12px}

  /* Toast Panchita que no tape contenido */
  .panchita{
    bottom:12px;right:12px;left:12px;
    max-width:100%;
    font-size:13px;
    padding:12px 15px;
  }
}

/* Tablet: solo ajustes menores */
@media (min-width:481px) and (max-width:680px){
  .card{padding:28px 24px}
  .bank-val{font-size:12.5px;word-break:break-all}
  .sum-val{word-break:break-all}
  input[type=text],
  input[type=email],
  input[type=number]{font-size:16px}
}

/* PC: centrar bien con mÃ¡s aire */
@media (min-width:681px){
  .wrapper{padding:40px 24px 60px}
  .card{padding:40px 36px 36px}
}

/* â”€â”€ Panchita toast â”€â”€ */
.panchita{
  position:fixed;bottom:20px;right:20px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:#fff;padding:14px 18px;border-radius:16px;
  box-shadow:0 8px 24px rgba(124,58,237,.45);
  font-size:13.5px;font-weight:600;
  transform:translateY(130px);opacity:0;
  transition:all .4s ease;z-index:9999;max-width:270px;
  line-height:1.5;
}
.panchita.show{transform:translateY(0);opacity:1}

/* â”€â”€ Footer â”€â”€ */
.footer{
  margin-top:22px;font-size:11.5px;
  color:var(--muted);letter-spacing:.3px;
}
</style>
</head>
<body>

<div class="turtle-float" id="turtleFloat">ğŸ¢</div>

<div class="wrapper">

  <div class="logo">
    WSSERVERMX
    <span class="logo-turtle">ğŸ¢</span>
  </div>

  <div class="card">

    <!-- Banner seguridad -->
    <div class="sec-banner">
      <span class="icon">ğŸ”’</span>
      <span><b>PAGO 100% SEGURO</b> â€” JamÃ¡s te pediremos datos de tu tarjeta.<br>
      Todo lo haces tÃº desde la app de tu banco.</span>
    </div>

    <!-- Progreso visual -->
    <div class="progress-wrap">
      <div class="progress-steps" id="progressSteps">

        <div class="step-dot-wrap active" data-step="0">
          <div class="step-dot active" id="dot0"><span class="dot-num">1</span></div>
          <div class="step-label">MÃ©todo</div>
        </div>

        <div class="step-line" id="line0"><div class="step-line-fill"></div></div>

        <div class="step-dot-wrap" data-step="1">
          <div class="step-dot" id="dot1"><span class="dot-num">2</span></div>
          <div class="step-label">Tus datos</div>
        </div>

        <div class="step-line" id="line1"><div class="step-line-fill"></div></div>

        <div class="step-dot-wrap" data-step="2">
          <div class="step-dot" id="dot2"><span class="dot-num">3</span></div>
          <div class="step-label">Comprobante</div>
        </div>

        <div class="step-line" id="line2"><div class="step-line-fill"></div></div>

        <div class="step-dot-wrap" data-step="3">
          <div class="step-dot" id="dot3"><span class="dot-num">4</span></div>
          <div class="step-label">Confirmar</div>
        </div>

      </div>
    </div>

    <!-- Error global -->
    <div class="error-box" id="errorBox"></div>

    <!-- â•â•â• PANELS â•â•â• -->
    <div class="steps-outer" id="stepsOuter">

      <!-- PASO 1: MÃ©todo de pago -->
      <div class="step-panel active" id="panel0">
        <div class="panel-title">Â¿CÃ³mo pagaste?</div>
        <div class="panel-sub">Elige el mÃ©todo que usaste para hacer tu pago.</div>

        <div class="method-grid">
          <div class="method-card" data-method="binance" onclick="selectMethod(this)">
            <span class="method-icon">ğŸŸ£</span>
            <div class="method-info">
              <div class="method-name">Binance (USDT)</div>
              <div class="method-desc">Transferencia cripto Â· ConfirmaciÃ³n rÃ¡pida</div>
            </div>
            <div class="method-check">âœ“</div>
          </div>
          <div class="method-card" data-method="transferencia" onclick="selectMethod(this)">
            <span class="method-icon">ğŸ¦</span>
            <div class="method-info">
              <div class="method-name">Transferencia bancaria</div>
              <div class="method-desc">CLABE Â· Nu MÃ©xico Â· Tiempo varÃ­a segÃºn tu banco</div>
            </div>
            <div class="method-check">âœ“</div>
          </div>
          <div class="method-card" data-method="oxxo" onclick="selectMethod(this)">
            <span class="method-icon">ğŸª</span>
            <div class="method-info">
              <div class="method-name">OXXO Pay</div>
              <div class="method-desc">Pago en efectivo Â· Puede tardar hasta 24 h</div>
            </div>
            <div class="method-check">âœ“</div>
          </div>
        </div>

        <!-- Datos bancarios que aparecen al seleccionar -->
        <div class="bank-block" id="bankBlock"></div>

        <div class="nav-btns">
          <button class="btn-next" id="btnStep0Next" onclick="goNext()" disabled>
            Siguiente <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- PASO 2: Datos del usuario -->
      <div class="step-panel" id="panel1">
        <div class="panel-title">Tus datos</div>
        <div class="panel-sub">Necesitamos tu correo para identificar tu cuenta en nuestro servidor.</div>

        <div class="field">
          <label class="field-label">Correo registrado en el server</label>
          <div class="input-wrap">
            <input type="email" id="fEmail" placeholder="tucorreo@ejemplo.com" autocomplete="email">
            <span class="i-turtle" onclick="showPanchita()">ğŸ¢</span>
          </div>
        </div>

        <div class="field" id="fieldBinanceUser" style="display:none">
          <label class="field-label">Tu nombre en Binance</label>
          <div class="input-wrap">
            <input type="text" id="fBinanceUser" placeholder="Tal como aparece en tu perfil">
            <span class="i-turtle" onclick="showPanchita()">ğŸ¢</span>
          </div>
        </div>

        <div class="field">
          <label class="field-label" id="montoLabel">Monto pagado (USD)</label>
          <div class="input-wrap">
            <input type="number" step="0.01" id="fUsd" placeholder="Ej. 3.50">
            <span class="i-turtle" onclick="showPanchita()">ğŸ¢</span>
          </div>
          <div class="mxn-hint" id="mxnHint">Equivalente: $0 MXN</div>
        </div>

        <div class="nav-btns">
          <button class="btn-back" onclick="goBack()">â† AtrÃ¡s</button>
          <button class="btn-next" onclick="goNext()">Siguiente â†’</button>
        </div>
      </div>

      <!-- PASO 3: Subir comprobante -->
      <div class="step-panel" id="panel2">
        <div class="panel-title">Sube tu comprobante</div>
        <div class="panel-sub">Adjunta una captura o foto de tu comprobante de pago.</div>

        <div class="upload-zone" id="uploadZone">
          <input type="file" id="fFile" accept="image/*" onchange="onFileChange(this)">
          <span class="upload-icon">ğŸ“</span>
          <div class="upload-title">Toca para subir tu comprobante</div>
          <div class="upload-sub">JPG, PNG, WEBP Â· MÃ¡ximo 10 MB</div>
        </div>
        <div class="upload-preview" id="uploadPreview">
          <img id="previewImg" src="" alt="Vista previa">
        </div>
        <div class="upload-name" id="uploadName"></div>

        <div class="nav-btns">
          <button class="btn-back" onclick="goBack()">â† AtrÃ¡s</button>
          <button class="btn-next" id="btnStep2Next" onclick="goNext()" disabled>Siguiente â†’</button>
        </div>
      </div>

      <!-- PASO 4: Resumen + Enviar -->
      <div class="step-panel" id="panel3">
        <div class="panel-title">Revisa y envÃ­a</div>
        <div class="panel-sub">Confirma que todo estÃ© correcto antes de enviar.</div>

        <div class="summary" id="summaryBox"></div>

        <div class="nav-btns" id="sendNavBtns">
          <button class="btn-back" id="btnBackStep3" onclick="goBack()">â† AtrÃ¡s</button>
          <div style="flex:2;display:flex;flex-direction:column;gap:0">
            <button class="btn-next" id="btnSend" onclick="sendForm()">
              <span id="sendIcon">ğŸ“¤</span>
              <span id="sendText">Enviar comprobante</span>
            </button>
          </div>
        </div>

        <!-- Ã‰xito -->
        <div class="success-screen" id="successScreen">
          <div class="success-icon">âœ…</div>
          <div class="success-title">Â¡Comprobante enviado!</div>
          <div class="success-sub">Lo recibimos correctamente. En breve procesaremos tu pago.</div>
          <div class="success-warn">
            âš ï¸ <b>IMPORTANTE:</b> No envÃ­es el comprobante mÃ¡s de una vez.<br>
            Los envÃ­os duplicados pueden atorar tu solicitud <b>hasta 4 horas</b>.
          </div>
          <div class="countdown-txt">Redirigiendo en <b id="countNum">20</b> segundosâ€¦</div>
        </div>
      </div>

    </div><!-- /steps-outer -->

  </div><!-- /card -->

  <div class="footer">BY WSSSISTEMAS Â© 2026</div>
</div>

<div class="panchita" id="panchita">
  ğŸ¢ Â¡Hola! Soy Panchita, la mascota de WS. Tengo 2 aÃ±itos y soy mÃ¡s rÃ¡pida de lo que crees ğŸ’š
</div>

<script>
// â”€â”€ Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const RATE         = 20;
const MIN_USD      = 3;
const BOT_TOKEN    = "8580941597:AAHKyc0zS6yUUWhkDjJq77sCwcJI0hSuCg0";
const CHAT_ID      = "8346464055";
// â”€â”€ Estado â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let currentStep    = 0;
let selectedMethod = null;
let isSending      = false;
let alreadySent    = false;

// â”€â”€ Sparkles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
for(let i=0;i<22;i++){
  const s = document.createElement('div');
  s.className = 'sparkle';
  s.style.left = Math.random()*100+'%';
  s.style.top  = Math.random()*100+'%';
  s.style.animationDelay = Math.random()*4+'s';
  document.body.appendChild(s);
}

// â”€â”€ Tortuga flotante â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const tf = document.getElementById('turtleFloat');
let turtleGone = false;
tf.addEventListener('click', () => {
  if(turtleGone) return;
  turtleGone = true;
  const l = tf.offsetLeft, t = tf.offsetTop;
  tf.style.left = l+'px'; tf.style.top = t+'px';
  tf.classList.add('bye');
  setTimeout(()=>tf.remove(), 2800);
});

// â”€â”€ Panchita toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showPanchita(){
  const p = document.getElementById('panchita');
  p.classList.add('show');
  setTimeout(()=>p.classList.remove('show'), 8000);
}

// â”€â”€ SelecciÃ³n de mÃ©todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const bankData = {
  binance:{
    html:`
      <div class="bank-row">ğŸ†” <span class="bank-label">ID BINANCE</span>
        <span class="bank-val">1136518378</span>
        <span class="copy" onclick="copiar(this,'1136518378')">ğŸ“‹</span>
      </div>
      <div class="bank-row">ğŸ‘¤ <span class="bank-label">NOMBRE</span>
        <span class="bank-val">WS SERVER MX</span>
        <span class="copy" onclick="copiar(this,'WS SERVER MX')">ğŸ“‹</span>
      </div>
      <div class="bank-row">ğŸ’± <span class="bank-label">MONEDA</span>
        <span class="bank-val">USDT / TETHER</span>
      </div>`
  },
  transferencia:{
    html:`
      <div class="bank-row">ğŸ› <span class="bank-label">BANCO</span>
        <span class="bank-val">Nu MÃ©xico</span>
        <span class="copy" onclick="copiar(this,'Nu MÃ©xico')">ğŸ“‹</span>
      </div>
      <div class="bank-row">ğŸ’³ <span class="bank-label">CLABE</span>
        <span class="bank-val">638180000100055205</span>
        <span class="copy" onclick="copiar(this,'638180000100055205')">ğŸ“‹</span>
      </div>
      <div class="bank-row">ğŸ‘¤ <span class="bank-label">NOMBRE</span>
        <span class="bank-val">CHRISTIAN QUIÃ‘ONEZ</span>
        <span class="copy" onclick="copiar(this,'CHRISTIAN QUIÃ‘ONEZ')">ğŸ“‹</span>
      </div>
      <div class="bank-note">â±ï¸ El tiempo de reflejo depende de tu banco.</div>`
  },
  oxxo:{
    html:`
      <div class="bank-row">ğŸ’³ <span class="bank-label">NÃšMERO</span>
        <span class="bank-val">5101 2523 9079 9774</span>
        <span class="copy" onclick="copiar(this,'5101252390799774')">ğŸ“‹</span>
      </div>
      <div class="bank-row">ğŸ’µ <span class="bank-label">TIPO DE CAMBIO</span>
        <span class="bank-val">1 USD = $20 MXN</span>
      </div>
      <div class="bank-note">âš ï¸ OXXO cobra ~$12â€“$15 de comisiÃ³n. InclÃºyela en tu pago.<br>ğŸ• Puede tardar hasta 24 h en reflejarse.</div>`
  }
};

function selectMethod(card){
  document.querySelectorAll('.method-card').forEach(c=>c.classList.remove('selected'));
  card.classList.add('selected');
  selectedMethod = card.dataset.method;

  const bb = document.getElementById('bankBlock');
  bb.innerHTML = bankData[selectedMethod].html;
  bb.classList.add('show');

  // Ajustes de UI segÃºn mÃ©todo
  const isBinance = selectedMethod === 'binance';
  document.getElementById('montoLabel').textContent =
    isBinance ? 'MONTO PAGADO (USDT)' : 'MONTO PAGADO (USD)';
  document.getElementById('mxnHint').style.display = isBinance ? 'none' : 'block';

  document.getElementById('btnStep0Next').disabled = false;
}

// â”€â”€ ConversiÃ³n USDâ†’MXN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('fUsd').addEventListener('input', function(){
  const v = parseFloat(this.value)||0;
  document.getElementById('mxnHint').textContent =
    `Equivalente: $${(v*RATE).toFixed(2)} MXN`;
});

// â”€â”€ Validaciones por paso â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function validateStep(n){
  const err = document.getElementById('errorBox');
  err.className = 'error-box';
  err.textContent = '';

  if(n === 0){
    if(!selectedMethod){ showErr('âš ï¸ Selecciona un mÃ©todo de pago'); return false; }
  }
  if(n === 1){
    const email = document.getElementById('fEmail').value.trim();
    if(!email || !email.includes('@')){ showErr('âš ï¸ Ingresa un correo vÃ¡lido'); return false; }
    if(selectedMethod==='binance' && !document.getElementById('fBinanceUser').value.trim()){
      showErr('âš ï¸ Ingresa tu nombre en Binance'); return false;
    }
    const usdVal = parseFloat(document.getElementById('fUsd').value);
    if(!usdVal || usdVal < MIN_USD){ showErr('âš ï¸ El monto mÃ­nimo es $3 USD'); return false; }
  }
  if(n === 2){
    if(!document.getElementById('fFile').files.length){
      showErr('âš ï¸ Sube una imagen del comprobante'); return false;
    }
  }
  return true;
}

function showErr(msg){
  const e = document.getElementById('errorBox');
  e.textContent = msg; e.classList.add('show');
  e.scrollIntoView({behavior:'smooth',block:'center'});
}

// â”€â”€ NavegaciÃ³n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goNext(){
  if(!validateStep(currentStep)) return;
  clearError();

  if(currentStep === 2) buildSummary();

  const from = document.getElementById(`panel${currentStep}`);
  currentStep++;
  const to = document.getElementById(`panel${currentStep}`);

  from.style.display = 'none';
  to.classList.remove('going-back');
  to.classList.add('active');

  updateProgress();
  window.scrollTo({top:0,behavior:'smooth'});
}

function goBack(){
  clearError();
  const from = document.getElementById(`panel${currentStep}`);
  from.classList.remove('active');
  from.style.display = '';
  from.style.display = 'none';
  currentStep--;
  const to = document.getElementById(`panel${currentStep}`);
  to.classList.add('going-back');
  to.style.display = '';
  to.classList.add('active');
  from.style.display = '';

  // reset de display
  for(let i=0;i<=3;i++){
    const p = document.getElementById(`panel${i}`);
    if(i === currentStep){ p.classList.add('active'); p.style.display=''; }
    else { p.classList.remove('active'); }
  }

  updateProgress();
  window.scrollTo({top:0,behavior:'smooth'});
}

function clearError(){
  const e = document.getElementById('errorBox');
  e.className = 'error-box'; e.textContent = '';
}

function updateProgress(){
  for(let i=0;i<=3;i++){
    const wrap = document.querySelector(`.step-dot-wrap[data-step="${i}"]`);
    const dot  = document.getElementById(`dot${i}`);
    wrap.classList.remove('active','done');
    dot.classList.remove('active','done');
    if(i < currentStep){ wrap.classList.add('done'); dot.classList.add('done'); }
    else if(i === currentStep){ wrap.classList.add('active'); dot.classList.add('active'); }
    if(i < 3){
      const line = document.getElementById(`line${i}`);
      line.classList.toggle('filled', i < currentStep);
    }
  }
  // Mostrar campo Binance en paso 2
  document.getElementById('fieldBinanceUser').style.display =
    selectedMethod === 'binance' ? 'block' : 'none';
}

// â”€â”€ Resumen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildSummary(){
  const email   = document.getElementById('fEmail').value;
  const usd     = document.getElementById('fUsd').value;
  const binUser = document.getElementById('fBinanceUser').value;
  const file    = document.getElementById('fFile').files[0];

  const metodoNames = {binance:'Binance (USDT)',transferencia:'Transferencia bancaria',oxxo:'OXXO Pay'};
  const mxnEq = selectedMethod!=='binance' ? `&nbsp;<span style="color:var(--muted);font-size:11px">(â‰ˆ $${(parseFloat(usd)*RATE).toFixed(2)} MXN)</span>` : '';

  let rows = `
    <div class="summary-row">
      <span class="sum-icon">ğŸ’³</span>
      <div><div class="sum-key">MÃ©todo</div><div class="sum-val">${metodoNames[selectedMethod]}</div></div>
    </div>
    <div class="summary-row">
      <span class="sum-icon">ğŸ“§</span>
      <div><div class="sum-key">Correo</div><div class="sum-val">${email}</div></div>
    </div>
    <div class="summary-row">
      <span class="sum-icon">ğŸ’°</span>
      <div><div class="sum-key">Monto</div><div class="sum-val">${usd} ${selectedMethod==='binance'?'USDT':'USD'} ${mxnEq}</div></div>
    </div>`;

  if(selectedMethod==='binance'){
    rows += `<div class="summary-row">
      <span class="sum-icon">ğŸ‘¤</span>
      <div><div class="sum-key">Usuario Binance</div><div class="sum-val">${binUser}</div></div>
    </div>`;
  }

  if(file){
    const url = URL.createObjectURL(file);
    rows += `<div class="summary-row">
      <span class="sum-icon">ğŸ–¼</span>
      <div style="width:100%">
        <div class="sum-key">Comprobante</div>
        <img class="sum-img" src="${url}" alt="Comprobante">
      </div>
    </div>`;
  }

  document.getElementById('summaryBox').innerHTML = rows;
}

// â”€â”€ Upload â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function onFileChange(input){
  const file = input.files[0];
  if(!file) return;

  const preview = document.getElementById('uploadPreview');
  const img     = document.getElementById('previewImg');
  const name    = document.getElementById('uploadName');
  const btn     = document.getElementById('btnStep2Next');

  const url = URL.createObjectURL(file);
  img.src = url;
  preview.style.display = 'block';
  name.textContent = 'âœ“ ' + file.name;
  name.style.display = 'block';
  btn.disabled = false;

  document.getElementById('uploadZone').style.borderColor = 'var(--success)';
}

// â”€â”€ Drag & drop zona â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const uz = document.getElementById('uploadZone');
uz.addEventListener('dragover', e=>{ e.preventDefault(); uz.classList.add('drag'); });
uz.addEventListener('dragleave', ()=>uz.classList.remove('drag'));
uz.addEventListener('drop', e=>{
  e.preventDefault(); uz.classList.remove('drag');
  const files = e.dataTransfer.files;
  if(files.length){
    document.getElementById('fFile').files = files;
    onFileChange(document.getElementById('fFile'));
  }
});

// â”€â”€ EnvÃ­o â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function sendForm(){
  if(isSending || alreadySent) return;

  const btnSend = document.getElementById('btnSend');
  const sendIcon= document.getElementById('sendIcon');
  const sendText= document.getElementById('sendText');

  isSending = true;
  btnSend.disabled = true;
  btnSend.className = 'btn-next sending';
  sendIcon.innerHTML = '<div class="spinner"></div>';
  sendText.textContent = 'Enviandoâ€¦';

  const email   = document.getElementById('fEmail').value;
  const usd     = document.getElementById('fUsd').value;
  const binUser = document.getElementById('fBinanceUser').value;
  const file    = document.getElementById('fFile').files[0];
  const metNom  = {binance:'Binance',transferencia:'Transferencia bancaria',oxxo:'OXXO Pay'};

  let texto = `ğŸ§¾ NUEVO COMPROBANTE\n\nğŸ“§ Email: ${email}\nğŸ’³ MÃ©todo: ${metNom[selectedMethod]}\n`;
  if(selectedMethod==='binance'){
    texto += `ğŸ’° Monto: ${usd} USDT\nğŸ‘¤ Usuario Binance: ${binUser}`;
  } else {
    texto += `ğŸ’° Monto: $${usd} USD\nğŸ’µ Monto MXN: $${(parseFloat(usd)*RATE).toFixed(2)}`;
  }

  // Intentar enviar, pero mostrar Ã©xito siempre â€” el usuario no debe ver errores tÃ©cnicos
  try {
    const fd = new FormData();
    fd.append('chat_id', CHAT_ID);
    fd.append('caption', texto);
    fd.append('photo', file);
    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`,{method:'POST',body:fd});
  } catch(e) {
    // Error silencioso â€” el flujo de Ã©xito corre igual
  }

  // Siempre mostrar Ã©xito y bloquear botÃ³n
  alreadySent = true;
  btnSend.disabled = true;
  btnSend.className = 'btn-next done';
  sendIcon.textContent = 'âœ…';
  sendText.textContent = 'Enviado';

  // Marcar paso 4 como completado (verde) en la barra de progreso
  const wrap3 = document.querySelector('.step-dot-wrap[data-step="3"]');
  const dot3  = document.getElementById('dot3');
  wrap3.classList.remove('active');
  wrap3.classList.add('done');
  dot3.classList.remove('active');
  dot3.classList.add('done');
  document.getElementById('line2').classList.add('filled');

  document.getElementById('summaryBox').style.display = 'none';
  document.getElementById('successScreen').classList.add('show');
  document.getElementById('btnBackStep3').style.display = 'none';

  let secs = 20;
  const c = document.getElementById('countNum');
  const t = setInterval(()=>{ secs--; c.textContent=secs; if(secs<=0){ clearInterval(t); window.location.href='https://wsservermx.com'; } }, 1000);
}



function copiar(el, texto){
  navigator.clipboard.writeText(texto);
  const s = document.createElement('span');
  s.className = 'copiado'; s.textContent = 'âœ“ Copiado';
  el.after(s); setTimeout(()=>s.remove(), 1500);
}

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
updateProgress();
</script>
</body>
</html>
